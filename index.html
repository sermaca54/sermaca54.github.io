<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Project: Word game </title>
        <style>
            body {
                font-family: Arial, sans-serif;
                background-color: rgb(255, 207, 148);

            }
            form {
                font-size: 1.5em;
                padding-top: 0px;
                text-align: center;
                padding-top: 500px;
            }

            button {
                font-family: monospace;
                font-size: 2em;
            }

            input {
                font-family: monospace;
                font-size: 2em;

            }

            .scrambled {
                font-family: monospace;
                font-size: 2em;
                color: rgb(184, 84, 30);
                font-size: 120px;



            }

            #mensaje {
              font-size: 70px;
            }

            #answer {
                color: rgb(150, 88, 21);
                font-weight: bold;
            }

            #titulo {
                text-align: center;
                background-color: rgb(255, 168, 76);
                color: rgb(163, 38, 0);
                font-size: 120px;
                margin-top: 200px;

            }

            .carita_feliz {
                position: absolute;
                width: 72px;
                top: 318px;
                right: 256px;
            }

            #boton {
                background-color: rgb(255, 182, 36);
                color: rgb(145, 83, 42);
                width: 108px;
                height: 38px;
                font-weight: bold;
                font-size: 24px;
                position: absolute;
                right: 54px;
                top: 207px;
            }

            .background_input {
                background: rgb(224, 213, 224);
            }

            .background_input_2 {
                background: rgb(240, 232, 240);
            }

            #boton_2 {
                background-color: rgb(255, 168, 102);
                color: rgb(173, 66, 0);
                width: 108px;
                height: 28px;
                font-weight: bold;
                font-size: 15px;
                position: absolute;
                top: 163px;
                right: 55px;

            }

        </style>
    </head>
    <body>

    <h1 id="titulo">Word game!</h1>
    <form id="joke-form">
        <label>
            <p id ="mensaje">Unscramble these letters to form a word:</p><Br>
            <span class="scrambled">Hola</span>
            <br>
            <input type="text" size="10">
        </label>
        <button type="submit" id="boton">Check</button>
        <p id="answer"></p>
    </form>

    <button id="boton_2">Choose Word</button>
    <img class="carita_feliz" id="happy_face" src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b5/Emoji_u1f60b.svg/1200px-Emoji_u1f60b.svg.png">

    <img class="carita_feliz" id="sad_face" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Sert_-_sad_smile.svg/1024px-Sert_-_sad_smile.svg.png">



    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/processing.js/1.6.6/processing.min.js"></script>
    <script>
        $("#happy_face").hide();
        $("#sad_face").hide();

        var happy_face = function() {
            $("#sad_face").hide();
            $("#happy_face").show();
        };

        var sad_face = function() {
            $("#happy_face").hide();
            $("#sad_face").show();
        };

        $("input:text").on("focus", function() {
            $(this).addClass("background_input");
            $(this).removeClass("background_input_2");

        });

        $("input:text").on("blur", function() {
            $(this).addClass("background_input_2");
            $(this).removeClass("background_input");

        });

        var letras = function() {
                this.play = "Play";
                this.apple = "Apple";
                this.future = "Future";
                this.west = "West";
                this.house = "House";
                this.table ="Table";
                this.mouse = "Mouse";
                this.chocolate = "Chocolate";
                this.bed = "Bed";
                this.cellphone = "Cellphone"
            }

        letras.prototype.verdadero = function(palabra) {
                if (palabra === this.play) {
                    return true;
                } else if(palabra === this.apple) {
                    return true;
                } else if (palabra === this.future) {
                    return true;
                } else if(palabra === this.west) {
                    return true;
                } else if (palabra === this.house) {
                    return true;
                } else if(palabra === this.table) {
                    return true;
                } else if (palabra === this.mouse) {
                    return true;
                } else if (palabra === this.chocolate) {
                    return true;
                } else if (palabra === this.bed) {
                    return true;
                } else if (palabra === this.cellphone) {
                    return true;
                }
            }

        $("#boton_2").on("click", function() {
            $("#happy_face").hide();
            $("#sad_face").hide();
            $("#answer").text("");
            $("input").val("");

            var aleatorio = function(inferior, superior) {
                var numPosibilidades = superior - inferior;
                var aleatorio = Math.random() * (numPosibilidades + 1);
                aleatorio = Math.floor(aleatorio);
                return inferior + aleatorio;
            };

            var palabras = ["Play", "Apple", "Future", "West", "House", "Table", "Mouse", "Chocolate", "Bed", "Cellphone"];

            var shuffleArray = function(array) {
                var counter = array.length;

                // While there are elements in the array
                while (counter > 0) {
                    // Pick a random index
                    var ind = Math.floor(Math.random() * counter);
                    // Decrease counter by 1
                    counter--;
                    // And swap the last element with it
                    var temp = array[counter];
                    array[counter] = array[ind];
                    array[ind] = temp;
                }
            };

            shuffleArray(palabras);

            var numero = aleatorio(0,  (palabras.length - 1));

            var seleccionado = palabras[numero];

            var diccionario = function() {
                this.play = "Play";
                this.apple = "Apple";
                this.future = "Future";
                this.west = "West";
                this.house = "House";
                this.table ="Table";
                this.mouse = "Mouse";
                this.chocolate = "Chocolate";
                this.bed = "Bed";
                this.cellphone = "Cellphone"
            }

            diccionario.prototype.find = function(palabra) {
                if (palabra === this.play) {
                    return "YLAP";
                } else if(palabra === this.apple) {
                    return "LEAPP";
                } else if (palabra === this.future) {
                    return "TUREFU";
                } else if(palabra === this.west) {
                    return "ESTW";
                } else if (palabra === this.house) {
                    return "ESHUO";
                } else if(palabra === this.table) {
                    return "LBTAE";
                } else if (palabra === this.mouse) {
                    return "SOUME";
                } else if (palabra === this.chocolate) {
                    return "EALTHOCCO";
                } else if (palabra === this.bed) {
                    return "EDB";
                } else if (palabra === this.cellphone) {
                    return "EOPLELCHN";
                }
            }

            var final = new diccionario();

            var respuesta = final.find(seleccionado);

            $(".scrambled").text(respuesta);

        });

        var comprobar = new letras();

        $("#joke-form").on("submit", function(event) {
            event.preventDefault();
            var $palabra = $(this).find("input");
            var palabra = $palabra.val();
            var makeNameCase = function(str) {
                return ( str.charAt(0).toUpperCase() +
    			         str.substring(1, str.length).toLowerCase());
            };

            var $seguro = $(this).find(".scrambled");
            var texto = $seguro.text();

            var final = makeNameCase(palabra);

            if (comprobar.verdadero(final)) {
                $("#answer").text("Yes, your answer is correct, that is the word");
                happy_face();

            } else if (final === "") {
                $("#answer").text("Please write something first");
                $("#happy_face").hide();
                $("#sad_face").hide();

            } else if (texto === "Select a Word") {
                $("#answer").text("Please Choose a Word First");
                $("#happy_face").hide();
                $("#sad_face").hide();

            } else {
                $("#answer").text("No sorry, that is not the answer, please try again");
                sad_face();
            }


        });


    </script>

    <script src="http://localhost:35729/livereload.js" charset="utf-8"></script>
    </body>
</html>
